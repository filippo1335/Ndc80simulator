# Initialization
units		real
boundary	p p p
atom_style	molecular
read_data	/Users/filiproch/PycharmProjects/LAMMPS/polymer.txt

# Dreiding potential information
#region prox cylinder x 0 0 10 300 700

neighbor	1 bin
neigh_modify every 10 one 250

bond_style      harmonic
bond_coeff	1 50 2.0
bond_coeff	2 50 1.0
bond_coeff  3 200 0.5

angle_style     harmonic
angle_coeff	1 100 180
angle_coeff 2 20 180

dihedral_style	zero
#dihedral_coeff	1 100 100 100 100 100
dihedral_coeff	*


pair_style	lj/cut 10.5
pair_coeff	1 1 0 1 10
pair_coeff 	1 2 5 2.5 40 #polymer vs head
pair_coeff  1 3 0 1.1 3
pair_coeff  1 4 0 1.2 2
pair_coeff	2 2 0.1 2.1 2.1
pair_coeff  2 3 2 2 50
pair_coeff  2 4 0 1 1
pair_coeff  3 3 0.1 2.1 2.1
pair_coeff  3 4 40 0.1 40
pair_coeff  4 4 0 1 1

group POLYMER type 1 3
group PART type 2 4
group BEAD type 2
group SURFACE type 3 4


#####################################################
# Define Settings
#compute eng all pe/atom
#compute eatoms all reduce sum c_eng

##



#####################################################
# Minimization


#fix 1 PART rigid/nvt/small molecule temp 300.0 300.0 100.0



#min_style cg
#minimize 1e-10 1e-10 500 1000
#unfix 1
#reset_timestep 0
#######



pair_coeff 	1 2 2 3 50
pair_coeff  3 4 100 0.5 20




dump 		1 all xyz 10000000 /Users/filiproch/lammps/dump/xyz_eq.xyz
dump 		2 all dcd 50 /Users/filiproch/lammps/dump/dump.comp_eq.dcd
dump		3 BEAD xyz 1000 /Users/filiproch/lammps/dump/particle_coord.txt
#dump        4 PART custom 10 /Users/filiproch/lammps/dump/custom.txt x


#####################################################
# Equilibration (Langevin dynamics at 300 K)


velocity all create 300.0 12345
run 0 # temperature may not be 300K
velocity all scale 300.0 # now it should be

fix     2 PART bond/create/angle 5 3 4 2.0 3 aconstrain 170 180 prob 0.8 12345 iparam 1 3 jparam 1 4
fix     3 PART bond/break 5 3 2.5 prob 0.001 12345
fix		4 PART rigid/nve/small molecule langevin 300 300 1.0 12345
#fix     5 PART rigid/nve/small molecule
####fix 		2 PART ffl 100 300 300 904297
thermo_style	custom step temp
thermo          100000
timestep	1
run		5000000